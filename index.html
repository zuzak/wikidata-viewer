<!DOCTYPE html>
<html>
<head>
    <title>Wikidata</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <style>
        body {
            background-color: #ccc;
            color:#333;
            font-family:sans-serif;
            text-align:center;
        }
        input {
            border: 2px solid #aaa;
            font-size:2em;
            width:100%;
        }
        .info {
            margin:2em;
        }
        .image {
            width:100%;
            height:100%;
        }
    </style>
    <script>
      $(document).ready(function(){
        $('input').keypress(function(e){
          if(e.keyCode == 13){
            $('.info').fadeOut()
            var searchTerm = $('input').val()
            searchTerm = encodeURI(searchTerm)
            $.getJSON('data/' + searchTerm, function(data){
              if(data.descriptions){
                $('.desc').text(data.descriptions.en.value)
              } else {
                $('.desc').text('')
              }
              if(data.claims.P18){
                $('.image').attr('src','img/' + data.claims.P18[0].mainsnak.datavalue.value)
              } else {
                $('.image').attr('src','')
              }
              $('.info').fadeIn()
            }).fail(function(){
              console.log('fucked')
            })
          }
        })
      })
    </script>
</head>
<body>
    <h1>Wikidata viewer</h1>
    <input placeholder="Las Vegas" type="text" />
    <div class="info">
        <img src="" class="image" />
        <span class="desc"></span>
    </div>
</body>

